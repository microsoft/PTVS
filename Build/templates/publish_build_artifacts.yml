steps:

  # If the build failed, publish raw binaries folder
  - task: PublishBuildArtifacts@1
    displayName: '[If build failed] Publish raw build artifact'
    inputs:
      PathtoPublish: '$(Build.BinariesDirectory)\raw'
      ArtifactName: raw
    condition: failed()

  # Publish logs, even if the build failed
  - task: PublishBuildArtifacts@1
    displayName: 'Publish logs artifact'
    inputs:
      PathtoPublish: '$(Build.SourcesDirectory)\logs'
      ArtifactName: Logs
    condition: succeededOrFailed()