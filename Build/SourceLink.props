<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!-- SourceLink is restricted to .csproj only. WPF generates *_wpftmp.csproj temp projects (also .csproj extension)
       that inherit these properties from the parent. Including .tmp_proj would cause CS1504 errors because
       WPF temp projects lack XAML source files referenced by #line directives in generated .g.cs files. -->
  <PropertyGroup Condition="'$(MSBuildProjectExtension)' == '.csproj'">
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <!-- EmbedUntrackedSources is intentionally not set because it breaks WPF projects
         (CS1504 errors from .g.cs #line directives referencing XAML files via relative paths) -->
    <!-- Required for deterministic builds and SourceLink in CI -->
    <ContinuousIntegrationBuild Condition="'$(BUILD_BUILDID)' != ''">true</ContinuousIntegrationBuild>
  </PropertyGroup>
  <Import Project="$(PackagesPath)Microsoft.Build.Tasks.Git\buildTransitive\Microsoft.Build.Tasks.Git.props" Condition="'$(MSBuildProjectExtension)' == '.csproj' and Exists('$(PackagesPath)Microsoft.Build.Tasks.Git\buildTransitive\Microsoft.Build.Tasks.Git.props')" />
  <Import Project="$(PackagesPath)Microsoft.Build.Tasks.Git\build\Microsoft.Build.Tasks.Git.props" Condition="'$(MSBuildProjectExtension)' == '.csproj' and !Exists('$(PackagesPath)Microsoft.Build.Tasks.Git\buildTransitive\Microsoft.Build.Tasks.Git.props') and Exists('$(PackagesPath)Microsoft.Build.Tasks.Git\build\Microsoft.Build.Tasks.Git.props')" />
  <Import Project="$(PackagesPath)Microsoft.SourceLink.Common\build\Microsoft.SourceLink.Common.props" Condition="'$(MSBuildProjectExtension)' == '.csproj' and Exists('$(PackagesPath)Microsoft.SourceLink.Common\build\Microsoft.SourceLink.Common.props')" />
  <Import Project="$(PackagesPath)Microsoft.SourceLink.GitHub\build\Microsoft.SourceLink.GitHub.props" Condition="'$(MSBuildProjectExtension)' == '.csproj' and Exists('$(PackagesPath)Microsoft.SourceLink.GitHub\build\Microsoft.SourceLink.GitHub.props')" />
</Project>
